const gtranslateSwitchers=new Set;function getCookieLang(){return document.cookie.split("; ").find(e=>e.startsWith("googtrans"))?.split("/")[2]||csliceGTranslate.defaultLang}function loadGoogleTranslate(e){if(window.googleTranslateElementInit){e?.();return}window.googleTranslateElementInit=()=>{new google.translate.TranslateElement({pageLanguage:csliceGTranslate.defaultLang,includedLanguages:csliceGTranslate.includedLanguages,autoDisplay:!1},"google_translate_element"),setTimeout(e,1e3)};let a=document.createElement("script");a.src=`${csliceGTranslate.apiUrl}?cb=googleTranslateElementInit`,a.defer=!0,document.head.appendChild(a)}function changeLanguage(e){let a=document.querySelector(".goog-te-combo");a&&(a.value=e,a.dispatchEvent(new Event("change",{bubbles:!0})))}document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelectorAll(".cslice-gtranslate-wrapper");if(!e.length)return;let a=getCookieLang();e.forEach((e,t)=>{"p"===e.tagName.toLowerCase()&&(e.textContent="");let n=document.createElement("select");if(n.className="cslice-language-switcher",n.setAttribute("aria-label","Select Language"),n.innerHTML=Object.entries(csliceGTranslate.languages).map(([e,a])=>`<option value="${e}">${a}</option>`).join(""),e.classList.contains("wp-block-outermost-icon-block")&&(e.querySelector(".icon-container").dataset.lang=a),gtranslateSwitchers.add(n),n.value=a,0===t&&a!==csliceGTranslate.defaultLang&&loadGoogleTranslate(),n.addEventListener("change",a=>{let t=a.target.value;n.disabled=!0,e.classList.contains("wp-block-outermost-icon-block")&&(e.querySelector(".icon-container").dataset.lang=t),gtranslateSwitchers.forEach(e=>{e!==n&&(e.value=t)}),window.google?.translate?changeLanguage(t):loadGoogleTranslate(()=>changeLanguage(t)),gtranslateSwitchers.forEach(e=>e.disabled=!1)}),e.appendChild(n),0===t){let l=document.createElement("div");l.id="google_translate_element",l.style.display="none",e.appendChild(l)}})});
